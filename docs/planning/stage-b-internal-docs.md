# Этап B — Внутренний портал документации

**Цель:** перенести операционную документацию организации с внешних источников (Google Docs и т.п.) во внутренний портал, обеспечив структуру, управление версиями и доступами.

## Область работ
- Проектирование и реализация раздела «Документация» для регламентов, инструкций, чек-листов и правил администрации.
- Импорт существующих материалов, наведение структуры и назначение ответственных за поддержание актуальности.
 - Импорт существующих материалов, наведение структуры и назначение ответственных за поддержание актуальности. Важно: импорт не обязателен при запуске — первоначально администраторы будут создавать документы вручную через UI; импорт-пайплайн оставляем как опциональную возможность для будущих миграций/заполнения.
- Введение базовых инструментов редакторского процесса (версии, ревью, черновики).

## Ключевые результаты
- Структура каталога документации (категории, теги, политика навигации) согласована и реализована в БД и UI.
- Механизм управления контентом: создание, редактирование, публикация, архивирование, восстановление версий.
- Ролевая модель доступа: кто читает/редактирует документы (минимум — суперадмин, автор, редактор).
 - Механизм управления контентом: создание, редактирование, публикация, архивирование, восстановление версий. Достаточно хранить историю версий и метаданные (автор, дата, сообщение к версии). Хранение полноценных диффов между версиями не обязательно — интерфейс должен показывать список версий и давать возможность отката или просмотра выбранной версии.
 - Ролевая модель доступа: кто читает/редактирует документы (минимум — суперадмин, автор, редактор). Право на редактирование должно проверяться: по умолчанию редактирование доступно только суперадмину; права можно расширять назначением ролей/прав конкретным пользователям или группам.
- Импортирован и классифицирован приоритетный набор документов (команды, правила администрации, гайды по операциям).
- Руководство по работе с новым разделом для авторов и читателей.

## Workstreams
### Backend
- Схема БД: `documents`, `document_versions`, `document_categories`, `document_tags`, `document_access`.
- API: CRUD для документов, поиск, фильтрация, публикация/архив, ревью-воркфлоу.
- Валидация и логирование: хранить автора, дату, признак актуальности, комментарии ревью.
- Импорт-пайплайн: скрипт, который принимает Markdown/HTML и сохраняет в систему (минимум — полуавтоматический).
 - Схема БД: `documents`, `document_versions`, `document_categories`, `document_tags` (опционально), `document_access`.
 - API: CRUD для документов, поиск, фильтрация, публикация/архив, ревью-воркфлоу. Интерфейс версий должен хранить историю и метаданные; диффы между версиями не обязательны.
 - Валидация и логирование: хранить автора, дату, признак актуальности, комментарии ревью.
 - Импорт-пайплайн: скрипт, который принимает Markdown/HTML и сохраняет в систему (минимум — полуавтоматический). Экспорт в Markdown тоже необходим — формат ручной правки и миграций. (Опционально при старте — сначала ручное создание контента админами.)
 - Редактор: полноценный Markdown-редактор с предпросмотром и возможностью вставки/загрузки изображений (включая обработку относительных ссылок и хранение изображений в хранилище/файловой системе).

### Frontend
- Раздел документации с трехуровневой навигацией (категории → список → документ).
- Полнотекстовый поиск с подсветкой совпадений.
- Редактор (Markdown + предпросмотр), черновики, история версий, дифф.
 - Редактор (полноценный Markdown + предпросмотр), черновики, история версий. Полноценные диффы не требуются; важна возможность просмотреть предыдущие версии и откатиться к ним.
- Визуальные индикаторы статуса (актуально, черновик, на ревью) и владельца документа.
- Встраивание ссылок на документы в другие разделы портала (например, из страниц курсов).

### Контент и процесс
- Инвентаризация существующих документов: перечень, статус актуальности, владелец, план импорта.
- Создание гайдлайна оформления (структура заголовков, чек-листы, единый стиль).
- Настройка процесса ревью: кто утверждает изменения, как фиксируются комментарии, SLA по обновлению.

### Интеграции и DevOps
- Резервное копирование документов и версий (например, ежедневный dump в S3/SharePoint).
- Настройка мониторинга (оповещение при ошибках импорта или конфликте версий).

## Зависимости
- Результаты Этапа A (платформа должна быть стабильной и без блокирующих багов).
- Доступ к исходным документам и вовлечённость авторов для переноса.
- Решение по форматам хранения (Markdown как основной формат).

## Риски и меры
- **Разнородность контента.** → Создать шаблоны и чек-листы, организовать сессии обучения для авторов.
- **Отсутствие владельцев.** → Назначить ответственных на этапе инвентаризации, зафиксировать в системе.
- **Проблемы импорта.** → Начать с пилота (несколько документов), отладить форматирование, затем масштабировать.

## Метрики успеха
- Не менее 80 % критичных документов перенесено и помечено как актуальные.
- Среднее время публикации обновления: ≤2 рабочих дня.
- Удовлетворённость пользователей (опрос) ≥4/5 по удобству поиска и чтения.

## Таймлайн (оценка)
- **Неделя 1:** проектирование схемы, прототип UI, инвентаризация контента.
- **Неделя 2:** реализация ядра (БД + API + базовый UI), импорт пилотного набора документов.
- **Неделя 3:** расширенный функционал (поиск, ревью-воркфлоу), обучение авторов, запуск в эксплуатацию.
