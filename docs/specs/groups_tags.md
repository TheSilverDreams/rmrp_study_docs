# ТЗ: Группы и теги для управления курсами и доступом



## Цель

Создать систему, в которой курсы удобно структурируются по группам и гибко назначаются студентам через набор тегов.



## Сущности



### Группы курсов

- Создаются и редактируются суперадмином.

- Каждый курс принадлежит ровно одной группе (жёсткая иерархия, как папки).

- Группы отображаются в каталоге у студента.

- Примеры: «Базовая информация», «Продвинутый уровень», «SMM», «Медиа».



### Теги курсов

- Создаются суперадмином.

- К курсу можно привязать несколько тегов.

- Примеры: «Soft Skills», «Технические», «Обязательный», «Опциональный».



### Теги пользователей

- Назначаются при создании/редактировании пользователя (админом или суперадмином).

- Один пользователь может иметь несколько тегов.



## Правила доступа

- **База:** студент видит все курсы своей группы, если группа «открыта» для него.

- **Дополнительно:** студент видит курсы, у которых есть хотя бы один тег из списка тегов пользователя.

- Если курс удовлетворяет любому из условий (группа или тег), он доступен.



## Интерфейсы



### Суперадмин

- CRUD групп курсов (создание, переименование, сортировка, удаление; проверка на пустые группы).

- CRUD тегов (отдельно для курсов и пользователей или общая справочника с типами тегов).

- Привязка курса к группе и тегам в редакторе курса.

- Просмотр списка курсов с фильтрами по группам и тегам.

- Логирование изменений (кто и когда обновил группы/теги).



### Админ

- При создании/редактировании пользователя:

  - Статический ID, игроник, сервер, пароль (как сейчас).

  - Чекбокс-лист доступных тегов.

- Возможность изменять теги пользователя и фильтровать пользователей по тегам.

- Массовое назначение тегов (выбор нескольких пользователей → назначить/снять тег).



### Студент

- Каталог курсов сгруппирован по группам.

- Отображаются только доступные курсы (по группе и/или тегам).

- Теги не показываются в интерфейсе студента.



## Дополнительные требования

- Логировать в административном журнале изменения групп и тегов (кто, что изменил, когда).

- Для админки добавить фильтр курсов по тегам (для наведения порядка).

- Учесть сценарии, когда курсы/пользователи имеют много тегов (поиск и пагинация в списках тегов).

- Подготовить миграции БД: таблицы `course_groups`, `course_tags`, `user_tags`, связки курс↔тег и пользователь↔тег.

- Обновить seed-данные, чтобы демонстрировать минимум две группы и несколько тегов.


## Статус
- [x] Создание групп и тегов реализовано в панели суперадмина.
- [x] Администраторы назначают теги и выбирают группу при создании студентов.
- [x] Каталог фильтрует доступ к курсам по группе и тегам.
